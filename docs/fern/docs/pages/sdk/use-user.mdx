---
title: useUser
---

# useUser

A React hook that fetches user data based on the provided user ID or authentication options.

## Parameters

- `userId`: `string` - The ID of the user to fetch.
- `options` (optional): `Object`
  - `or`: `'redirect' | 'throw'` - Specifies behavior when user is not authenticated.

## Returns

- When called with `userId`: `{ user: User | null, loading: boolean, error: Error | null }`
- When called with `options`: `User` (non-null)

## Examples

### Fetch user by ID

```tsx
import { useUser } from '@stackframe/stack';

function UserProfile({ userId }) {
  const { user, loading, error } = useUser(userId);

  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;
  if (!user) return <div>User not found</div>;

  return (
    <div>
      <h1>{user.name}</h1>
      <p>Email: {user.email}</p>
    </div>
  );
}
```

### Protect a component/page

```jsx
import { useUser } from "@stackframe/stack";

function ProtectedComponent() {
  const user = useUser({ or: 'redirect' });
  return <div>Hello, {user.name}</div>;
}
```

### Throw error if not authenticated

```jsx
import { useUser } from "@stackframe/stack";

function CriticalComponent() {
  const user = useUser({ or: 'throw' });
  return <div>Authenticated as: {user.name}</div>;
}
```

Note: You might also want to check out the server-side version of authentication [here](../getting-started/users.mdx).